import{$ as c,Ba as v,Fa as k,Na as E,Oa as d,Pa as r,Sa as h,Ta as u,Ua as s,Ya as C,_ as l,hb as T,ja as p,ka as _,ta as f,wa as g,xa as a}from"./chunk-IXMEAAIL.js";function x(o,n){if(o&1){let e=h();d(0,"div",2),u("animationstart",function(i){l(e);let m=s();return c(m.onAnimationStart(i))})("animationend",function(){l(e);let i=s();return c(i.onAnimationEnd())})("animationcancel",function(){l(e);let i=s();return c(i.onAnimationEnd())}),C(1," sig is true "),r()}}var b=class o{constructor(n,e,t){this.el=n;this.document=e;this.renderer=t}visible=_(!1);documentClickListener=null;targetElement=null;container=null;onClick(n){this.visible.set(!this.visible()),this.targetElement=n.target}isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}bindDocumentClickListener(){if(!this.documentClickListener){let n=this.isIOS()?"touchstart":"click",e=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(e,n,t=>{this.container!==t.target&&!this.container?.contains(t.target)&&this.targetElement!==t.target&&!this.targetElement?.contains(t.target)&&this.visible.set(!1)})}}onAnimationStart(n){console.log(n),this.container=n.target,console.log(this.container),this.bindDocumentClickListener()}onAnimationEnd(){console.log("animation end")}static \u0275fac=function(e){return new(e||o)(a(p),a(T),a(g))};static \u0275cmp=v({type:o,selectors:[["app-click-to-close"]],decls:5,vars:1,consts:[[1,"border",3,"click"],[1,"animate-ping"],[1,"animate-ping",3,"animationstart","animationend","animationcancel"]],template:function(e,t){e&1&&(d(0,"article")(1,"div")(2,"button",0),u("click",function(m){return t.onClick(m)}),C(3,"click me!"),r()(),k(4,x,2,0,"div",1),r()),e&2&&(f(4),E(t.visible()?4:-1))},encapsulation:2})};export{b as ClickToCloseComponent};
